(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[707],{48475:function(n,e,t){"use strict";t.d(e,{vl:function(){return u},Tu:function(){return a}});var r=t(46177),o=t(7400),c=t(32735),s=t(74512),i=(0,c.createContext)({});function u(){return(0,c.useContext)(i)}var a=function(n){var e=n.children,t=(0,o._)("autoConnect",!1),c=(0,r.Z)(t,2),u=c[0],a=c[1];return(0,s.jsx)(i.Provider,{value:{autoConnect:u,setAutoConnect:a},children:e})}},63513:function(n,e,t){"use strict";t.d(e,{eC:function(){return N},sz:function(){return T},QZ:function(){return r},$w:function(){return d},at:function(){return f},UG:function(){return h},lj:function(){return i},Db:function(){return v},oS:function(){return p},l5:function(){return u},Yf:function(){return a},OZ:function(){return l},Nx:function(){return y},fk:function(){return m},PY:function(){return g},NK:function(){return x},d2:function(){return b},hd:function(){return S},_j:function(){return k}});var r,o=t(4399),c=t.n(o);class s extends(c()){}!function(n){n.Mainnet="mainnet-beta",n.Testnet="testnet",n.Devnet="devnet"}(r||(r={}));class i extends Error{constructor(n,e){super(n),this.error=e}}class u extends i{constructor(){super(...arguments),this.name="WalletNotFoundError"}}class a extends i{constructor(){super(...arguments),this.name="WalletNotInstalledError"}}class l extends i{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class d extends i{constructor(){super(...arguments),this.name="WalletConnectionError"}}class f extends i{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class h extends i{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class y extends i{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class v extends i{constructor(){super(...arguments),this.name="WalletKeypairError"}}class p extends i{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class w extends i{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class m extends i{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class g extends i{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class x extends i{constructor(){super(...arguments),this.name="WalletTimeoutError"}}class b extends i{constructor(){super(...arguments),this.name="WalletWindowBlockedError"}}class S extends i{constructor(){super(...arguments),this.name="WalletWindowClosedError"}}var E=function(n,e,t,r){return new(t||(t=Promise))((function(o,c){function s(n){try{u(r.next(n))}catch(e){c(e)}}function i(n){try{u(r.throw(n))}catch(e){c(e)}}function u(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(s,i)}u((r=r.apply(n,e||[])).next())}))};function C(n,e,t){t>0&&setTimeout((()=>E(this,void 0,void 0,(function*(){(yield n())||C(n,e,t-1)}))),e)}function k(n,e,t){C((()=>{const{ready:e}=n;return e&&(n.emit("ready")||console.warn(`${n.constructor.name} is ready but no listener was registered`)),e}),e,t)}var O=function(n,e,t,r){return new(t||(t=Promise))((function(o,c){function s(n){try{u(r.next(n))}catch(e){c(e)}}function i(n){try{u(r.throw(n))}catch(e){c(e)}}function u(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(s,i)}u((r=r.apply(n,e||[])).next())}))},W=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]])}return t};class T extends s{sendTransaction(n,e,t={}){return O(this,void 0,void 0,(function*(){try{try{n.feePayer||(n.feePayer=this.publicKey||void 0),n.recentBlockhash||(n.recentBlockhash=(yield e.getRecentBlockhash("finalized")).blockhash);const{signers:r}=t,o=W(t,["signers"]);(null===r||void 0===r?void 0:r.length)&&n.partialSign(...r);const c=(n=yield this.signTransaction(n)).serialize();return yield e.sendRawTransaction(c,o)}catch(r){if(r instanceof i)throw r;throw new w(null===r||void 0===r?void 0:r.message,r)}}catch(r){throw this.emit("error",r),r}}))}}class N extends T{}},7400:function(n,e,t){"use strict";t.d(e,{U:function(){return a},nS:function(){return v},Rc:function(){return u},_:function(){return f},Os:function(){return c}});var r=t(32735);const o=(0,r.createContext)({});function c(){return(0,r.useContext)(o)}var s=t(42243);const i=(0,r.createContext)({});function u(){return(0,r.useContext)(i)}const a=({children:n,endpoint:e,config:t={commitment:"confirmed"}})=>{const o=(0,r.useMemo)((()=>new s.ew(e,t)),[e,t]);return r.createElement(i.Provider,{value:{connection:o}},n)};var l=t(63513);class d extends l.lj{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}function f(n,e){const[t,o]=(0,r.useState)((()=>{if("undefined"===typeof localStorage)return e;const t=localStorage.getItem(n);try{return t?JSON.parse(t):e}catch(r){return console.warn(r),e}})),c=(0,r.useCallback)((e=>{if(e!==t)if(o(e),null===e?localStorage.removeItem(n):localStorage.setItem(n,JSON.stringify(e)),null===e)localStorage.removeItem(n);else try{localStorage.setItem(n,JSON.stringify(e))}catch(r){console.error(r)}}),[t,o,n]);return[t,c]}var h=function(n,e,t,r){return new(t||(t=Promise))((function(o,c){function s(n){try{u(r.next(n))}catch(e){c(e)}}function i(n){try{u(r.throw(n))}catch(e){c(e)}}function u(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(s,i)}u((r=r.apply(n,e||[])).next())}))};const y={wallet:null,adapter:null,ready:!1,publicKey:null,connected:!1},v=({children:n,wallets:e,autoConnect:t=!1,onError:c=(n=>console.error(n)),localStorageKey:s="walletName"})=>{const[i,u]=f(s,null),[{wallet:a,adapter:v,ready:p,publicKey:w,connected:m},g]=(0,r.useState)(y),[x,b]=(0,r.useState)(!1),[S,E]=(0,r.useState)(!1),C=(0,r.useRef)(!1),k=(0,r.useRef)(!1),O=(0,r.useMemo)((()=>e.reduce(((n,e)=>(n[e.name]=e,n)),{})),[e]);(0,r.useEffect)((()=>{const n=i&&O[i]||null,e=n&&n.adapter();if(e){const{ready:t,publicKey:r,connected:o}=e;g({wallet:n,adapter:e,connected:o,publicKey:r,ready:t})}else g(y)}),[i,O,g]),(0,r.useEffect)((()=>{!(C.current||x||m)&&t&&v&&p&&function(){h(this,void 0,void 0,(function*(){C.current=!0,b(!0);try{yield v.connect()}catch(n){u(null)}finally{b(!1),C.current=!1}}))}()}),[C,x,m,t,v,p,b,u]);const W=(0,r.useCallback)((n=>h(void 0,void 0,void 0,(function*(){i!==n&&(v&&(yield v.disconnect()),u(n))}))),[i,v,u]),T=(0,r.useCallback)((()=>g((n=>Object.assign(Object.assign({},n),{ready:!0})))),[g]),N=(0,r.useCallback)((()=>{if(!v)return;const{connected:n,publicKey:e,ready:t}=v;g((r=>Object.assign(Object.assign({},r),{connected:n,publicKey:e,ready:t})))}),[v,g]),P=(0,r.useCallback)((()=>u(null)),[u]),j=(0,r.useCallback)((()=>h(void 0,void 0,void 0,(function*(){if(!(C.current||x||S||m)){if(!a||!v){const n=new d;throw c(n),n}if(!p){u(null),"undefined"!==typeof window&&window.open(a.url,"_blank");const n=new l.OZ;throw c(n),n}C.current=!0,b(!0);try{yield v.connect()}catch(n){throw u(null),n}finally{b(!1),C.current=!1}}}))),[C,x,S,m,a,v,c,p,b,u]),K=(0,r.useCallback)((()=>h(void 0,void 0,void 0,(function*(){if(!k.current&&!S){if(!v)return u(null);k.current=!0,E(!0);try{yield v.disconnect()}finally{u(null),E(!1),k.current=!1}}}))),[k,S,v,E,u]),M=(0,r.useCallback)(((n,e,t)=>h(void 0,void 0,void 0,(function*(){if(!v){const n=new d;throw c(n),n}if(!m){const n=new l.oS;throw c(n),n}return yield v.sendTransaction(n,e,t)}))),[v,c,m]),_=(0,r.useMemo)((()=>v&&"signTransaction"in v?n=>h(void 0,void 0,void 0,(function*(){if(!m){const n=new l.oS;throw c(n),n}return yield v.signTransaction(n)})):void 0),[v,c,m]),I=(0,r.useMemo)((()=>v&&"signAllTransactions"in v?n=>h(void 0,void 0,void 0,(function*(){if(!m){const n=new l.oS;throw c(n),n}return yield v.signAllTransactions(n)})):void 0),[v,c,m]),R=(0,r.useMemo)((()=>v&&"signMessage"in v?n=>h(void 0,void 0,void 0,(function*(){if(!m){const n=new l.oS;throw c(n),n}return yield v.signMessage(n)})):void 0),[v,c,m]);return(0,r.useEffect)((()=>{if(v)return v.on("ready",T),v.on("connect",N),v.on("disconnect",P),v.on("error",c),()=>{v.off("ready",T),v.off("connect",N),v.off("disconnect",P),v.off("error",c)}}),[v,T,N,P,c]),r.createElement(o.Provider,{value:{wallets:e,autoConnect:t,wallet:a,adapter:v,publicKey:w,ready:p,connected:m,connecting:x,disconnecting:S,select:W,connect:j,disconnect:K,sendTransaction:M,signTransaction:_,signAllTransactions:I,signMessage:R}},n)}},24605:function(){},65678:function(){},11164:function(){},8505:function(){},93907:function(){}}]);