(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[707],{48475:function(e,n,t){"use strict";t.d(n,{vl:function(){return u},Tu:function(){return i}});var r=t(46177),o=t(64706),c=t(32735),s=t(74512),a=(0,c.createContext)({});function u(){return(0,c.useContext)(a)}var i=function(e){var n=e.children,t=(0,o._)("autoConnect",!1),c=(0,r.Z)(t,2),u=c[0],i=c[1];return(0,s.jsx)(a.Provider,{value:{autoConnect:u,setAutoConnect:i},children:n})}},24605:function(){},65678:function(){},11164:function(){},8505:function(){},93907:function(){},3700:function(e,n,t){"use strict";t.d(n,{eC:function(){return W},sz:function(){return C},cO:function(){return p},QZ:function(){return o},p6:function(){return d},$w:function(){return f},at:function(){return h},UG:function(){return w},lj:function(){return u},W8:function(){return l},oS:function(){return y},OZ:function(){return i},Nx:function(){return m},i1:function(){return r},fk:function(){return v},PY:function(){return E},NK:function(){return x},d2:function(){return S},hd:function(){return b},su:function(){return a}});var r,o,c=t(4399);!function(e){e.Installed="Installed",e.NotDetected="NotDetected",e.Loadable="Loadable",e.Unsupported="Unsupported"}(r||(r={}));class s extends c{get connected(){return!!this.publicKey}}function a(e){"undefined"!==typeof window&&"undefined"!==typeof document&&("complete"!==document.readyState?window.addEventListener("load",(function n(){window.removeEventListener("load",n),e()})):e())}class u extends Error{constructor(e,n){super(e),this.error=n}}class i extends u{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class l extends u{constructor(){super(...arguments),this.name="WalletLoadError"}}class d extends u{constructor(){super(...arguments),this.name="WalletConfigError"}}class f extends u{constructor(){super(...arguments),this.name="WalletConnectionError"}}class h extends u{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class w extends u{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class p extends u{constructor(){super(...arguments),this.name="WalletAccountError"}}class m extends u{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class y extends u{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class g extends u{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class v extends u{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class E extends u{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class x extends u{constructor(){super(...arguments),this.name="WalletTimeoutError"}}class S extends u{constructor(){super(...arguments),this.name="WalletWindowBlockedError"}}class b extends u{constructor(){super(...arguments),this.name="WalletWindowClosedError"}}class C extends s{async sendTransaction(e,n,t={}){let r=!0;try{try{e.feePayer=e.feePayer||this.publicKey||void 0,e.recentBlockhash=e.recentBlockhash||(await n.getRecentBlockhash("finalized")).blockhash;const{signers:r,...o}=t;(null===r||void 0===r?void 0:r.length)&&e.partialSign(...r);const c=(e=await this.signTransaction(e)).serialize();return await n.sendRawTransaction(c,o)}catch(o){if(o instanceof u)throw r=!1,o;throw new g(null===o||void 0===o?void 0:o.message,o)}}catch(o){throw r&&this.emit("error",o),o}}}class W extends C{}!function(e){e.Mainnet="mainnet-beta",e.Testnet="testnet",e.Devnet="devnet"}(o||(o={}))},64706:function(e,n,t){"use strict";t.d(n,{U:function(){return a},nS:function(){return w},Rc:function(){return s},_:function(){return f},Os:function(){return d}});var r=t(42243),o=t(32735);const c=(0,o.createContext)({});function s(){return(0,o.useContext)(c)}const a=({children:e,endpoint:n,config:t={commitment:"confirmed"}})=>{const s=(0,o.useMemo)((()=>new r.ew(n,t)),[n,t]);return o.createElement(c.Provider,{value:{connection:s}},e)};var u=t(3700);class i extends u.lj{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const l=(0,o.createContext)({});function d(){return(0,o.useContext)(l)}function f(e,n){const t=(0,o.useState)((()=>{try{const n=localStorage.getItem(e);if(n)return JSON.parse(n)}catch(t){console.error(t)}return n})),r=t[0],c=(0,o.useRef)(!0);return(0,o.useEffect)((()=>{if(c.current)c.current=!1;else try{null===r?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(r))}catch(n){console.error(n)}}),[r]),t}const h={wallet:null,adapter:null,publicKey:null,connected:!1},w=({children:e,wallets:n,autoConnect:t=!1,onError:r,localStorageKey:c="walletName"})=>{const[s,a]=f(c,null),[{wallet:d,adapter:w,publicKey:p,connected:m},y]=(0,o.useState)(h),g=(null===w||void 0===w?void 0:w.readyState)||u.i1.Unsupported,[v,E]=(0,o.useState)(!1),[x,S]=(0,o.useState)(!1),b=(0,o.useRef)(!1),C=(0,o.useRef)(!1),W=(0,o.useRef)(!1),[k,T]=(0,o.useState)((()=>n.map((e=>({adapter:e,readyState:e.readyState})))));(0,o.useEffect)((()=>{function e(e){T((n=>{const t=n.findIndex((({adapter:e})=>e.name===this.name));return-1===t?n:[...n.slice(0,t),{...n[t],readyState:e},...n.slice(t+1)]}))}for(const t of n)t.on("readyStateChange",e,t);return()=>{for(const t of n)t.off("readyStateChange",e,t)}}),[n]),(0,o.useEffect)((()=>{const e=k.find((({adapter:e})=>e.name===s));y(e?{wallet:e,adapter:e.adapter,connected:e.adapter.connected,publicKey:e.adapter.publicKey}:h)}),[s,k]),(0,o.useEffect)((()=>{b.current||v||m||!t||!w||g!==u.i1.Installed&&g!==u.i1.Loadable||async function(){b.current=!0,E(!0);try{await w.connect()}catch(e){a(null)}finally{E(!1),b.current=!1}}()}),[b,v,m,t,w,g]),(0,o.useEffect)((()=>{function e(){W.current=!0}return window.addEventListener("beforeunload",e),()=>window.removeEventListener("beforeunload",e)}),[W]);const K=(0,o.useCallback)((()=>{w&&y((e=>({...e,connected:w.connected,publicKey:w.publicKey})))}),[w]),N=(0,o.useCallback)((()=>{W.current||a(null)}),[W]),L=(0,o.useCallback)((e=>(W.current||(r||console.error)(e),e)),[W,r]);(0,o.useEffect)((()=>{if(w)return w.on("connect",K),w.on("disconnect",N),w.on("error",L),()=>{w.off("connect",K),w.off("disconnect",N),w.off("error",L)}}),[w,K,N,L]),(0,o.useEffect)((()=>()=>{null===w||void 0===w||w.disconnect()}),[w]);const M=(0,o.useCallback)((async()=>{if(!(b.current||v||x||m)){if(!w)throw L(new i);if(g!==u.i1.Installed&&g!==u.i1.Loadable)throw a(null),"undefined"!==typeof window&&window.open(w.url,"_blank"),L(new u.OZ);b.current=!0,E(!0);try{await w.connect()}catch(e){throw a(null),e}finally{E(!1),b.current=!1}}}),[b,v,x,m,w,g,L]),I=(0,o.useCallback)((async()=>{if(!C.current&&!x){if(!w)return a(null);C.current=!0,S(!0);try{await w.disconnect()}catch(e){throw a(null),e}finally{S(!1),C.current=!1}}}),[C,x,w]),R=(0,o.useCallback)((async(e,n,t)=>{if(!w)throw L(new i);if(!m)throw L(new u.oS);return await w.sendTransaction(e,n,t)}),[w,L,m]),P=(0,o.useMemo)((()=>w&&"signTransaction"in w?async e=>{if(!m)throw L(new u.oS);return await w.signTransaction(e)}:void 0),[w,L,m]),_=(0,o.useMemo)((()=>w&&"signAllTransactions"in w?async e=>{if(!m)throw L(new u.oS);return await w.signAllTransactions(e)}:void 0),[w,L,m]),O=(0,o.useMemo)((()=>w&&"signMessage"in w?async e=>{if(!m)throw L(new u.oS);return await w.signMessage(e)}:void 0),[w,L,m]);return o.createElement(l.Provider,{value:{autoConnect:t,wallets:k,wallet:d,publicKey:p,connected:m,connecting:v,disconnecting:x,select:a,connect:M,disconnect:I,sendTransaction:R,signTransaction:P,signAllTransactions:_,signMessage:O}},e)}}}]);