(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[707],{48475:function(n,e,t){"use strict";t.d(e,{vl:function(){return u},Tu:function(){return a}});var r=t(46177),o=t(7400),c=t(32735),i=t(74512),s=(0,c.createContext)({});function u(){return(0,c.useContext)(s)}var a=function(n){var e=n.children,t=(0,o._)("autoConnect",!1),c=(0,r.Z)(t,2),u=c[0],a=c[1];return(0,i.jsx)(s.Provider,{value:{autoConnect:u,setAutoConnect:a},children:e})}},63513:function(n,e,t){"use strict";t.d(e,{eC:function(){return P},sz:function(){return T},QZ:function(){return r},$w:function(){return d},at:function(){return f},UG:function(){return h},lj:function(){return s},Db:function(){return v},oS:function(){return w},l5:function(){return u},Yf:function(){return a},OZ:function(){return l},Nx:function(){return y},fk:function(){return m},PY:function(){return g},NK:function(){return b},d2:function(){return x},hd:function(){return E},_j:function(){return k}});var r,o=t(4399),c=t.n(o);class i extends(c()){}!function(n){n.Mainnet="mainnet-beta",n.Testnet="testnet",n.Devnet="devnet"}(r||(r={}));class s extends Error{constructor(n,e){super(n),this.error=e}}class u extends s{constructor(){super(...arguments),this.name="WalletNotFoundError"}}class a extends s{constructor(){super(...arguments),this.name="WalletNotInstalledError"}}class l extends s{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class d extends s{constructor(){super(...arguments),this.name="WalletConnectionError"}}class f extends s{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class h extends s{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class y extends s{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class v extends s{constructor(){super(...arguments),this.name="WalletKeypairError"}}class w extends s{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class p extends s{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class m extends s{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class g extends s{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class b extends s{constructor(){super(...arguments),this.name="WalletTimeoutError"}}class x extends s{constructor(){super(...arguments),this.name="WalletWindowBlockedError"}}class E extends s{constructor(){super(...arguments),this.name="WalletWindowClosedError"}}var C=function(n,e,t,r){return new(t||(t=Promise))((function(o,c){function i(n){try{u(r.next(n))}catch(e){c(e)}}function s(n){try{u(r.throw(n))}catch(e){c(e)}}function u(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(i,s)}u((r=r.apply(n,e||[])).next())}))};function S(n,e,t){t>0&&setTimeout((()=>C(this,void 0,void 0,(function*(){(yield n())||S(n,e,t-1)}))),e)}function k(n,e,t){S((()=>{const{ready:e}=n;return e&&(n.emit("ready")||console.warn(`${n.constructor.name} is ready but no listener was registered`)),e}),e,t)}var O=function(n,e,t,r){return new(t||(t=Promise))((function(o,c){function i(n){try{u(r.next(n))}catch(e){c(e)}}function s(n){try{u(r.throw(n))}catch(e){c(e)}}function u(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(i,s)}u((r=r.apply(n,e||[])).next())}))},W=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]])}return t};class T extends i{sendTransaction(n,e,t={}){return O(this,void 0,void 0,(function*(){try{try{n.feePayer||(n.feePayer=this.publicKey||void 0),n.recentBlockhash||(n.recentBlockhash=(yield e.getRecentBlockhash("finalized")).blockhash);const{signers:r}=t,o=W(t,["signers"]);(null===r||void 0===r?void 0:r.length)&&n.partialSign(...r);const c=(n=yield this.signTransaction(n)).serialize();return yield e.sendRawTransaction(c,o)}catch(r){if(r instanceof s)throw r;throw new p(null===r||void 0===r?void 0:r.message,r)}}catch(r){throw this.emit("error",r),r}}))}}class P extends T{}},7400:function(n,e,t){"use strict";t.d(e,{U:function(){return s},nS:function(){return v},Rc:function(){return i},_:function(){return f},Os:function(){return d}});var r=t(42243),o=t(32735);const c=(0,o.createContext)({});function i(){return(0,o.useContext)(c)}const s=({children:n,endpoint:e,config:t={commitment:"confirmed"}})=>{const i=(0,o.useMemo)((()=>new r.ew(e,t)),[e,t]);return o.createElement(c.Provider,{value:{connection:i}},n)};var u=t(63513);class a extends u.lj{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const l=(0,o.createContext)({});function d(){return(0,o.useContext)(l)}function f(n,e){const[t,r]=(0,o.useState)((()=>{if("undefined"===typeof localStorage)return e;const t=localStorage.getItem(n);try{return t?JSON.parse(t):e}catch(r){return console.warn(r),e}})),c=(0,o.useCallback)((e=>{if(e!==t)if(r(e),null===e)localStorage.removeItem(n);else try{localStorage.setItem(n,JSON.stringify(e))}catch(o){console.error(o)}}),[t,r,n]);return[t,c]}var h=function(n,e,t,r){return new(t||(t=Promise))((function(o,c){function i(n){try{u(r.next(n))}catch(e){c(e)}}function s(n){try{u(r.throw(n))}catch(e){c(e)}}function u(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(i,s)}u((r=r.apply(n,e||[])).next())}))};const y={wallet:null,adapter:null,ready:!1,publicKey:null,connected:!1},v=({children:n,wallets:e,autoConnect:t=!1,onError:r=(n=>console.error(n)),localStorageKey:c="walletName"})=>{const[i,s]=f(c,null),[{wallet:d,adapter:v,ready:w,publicKey:p,connected:m},g]=(0,o.useState)(y),[b,x]=(0,o.useState)(!1),[E,C]=(0,o.useState)(!1),S=(0,o.useRef)(!1),k=(0,o.useRef)(!1),O=(0,o.useRef)(!1),W=(0,o.useMemo)((()=>e.reduce(((n,e)=>(n[e.name]=e,n)),{})),[e]);(0,o.useEffect)((()=>{const n=i&&W[i]||null,e=n&&n.adapter();if(e){const{ready:t,publicKey:r,connected:o}=e;g({wallet:n,adapter:e,connected:o,publicKey:r,ready:t})}else g(y)}),[i,W,g]),(0,o.useEffect)((()=>{!(S.current||b||m)&&t&&v&&w&&function(){h(this,void 0,void 0,(function*(){S.current=!0,x(!0);try{yield v.connect()}catch(n){s(null)}finally{x(!1),S.current=!1}}))}()}),[S,b,m,t,v,w,x,s]),(0,o.useEffect)((()=>{function n(){O.current=!0}return window.addEventListener("beforeunload",n),()=>window.removeEventListener("beforeunload",n)}),[O]);const T=(0,o.useCallback)((n=>h(void 0,void 0,void 0,(function*(){i!==n&&(v&&(yield v.disconnect()),s(n))}))),[i,v,s]),P=(0,o.useCallback)((()=>g((n=>Object.assign(Object.assign({},n),{ready:!0})))),[g]),j=(0,o.useCallback)((()=>{if(!v)return;const{connected:n,publicKey:e,ready:t}=v;g((r=>Object.assign(Object.assign({},r),{connected:n,publicKey:e,ready:t})))}),[v,g]),K=(0,o.useCallback)((()=>{O.current||s(null)}),[O,s]),N=(0,o.useCallback)((n=>(O.current||r(n),n)),[O,r]),M=(0,o.useCallback)((()=>h(void 0,void 0,void 0,(function*(){if(!(S.current||b||E||m)){if(!d||!v)throw N(new a);if(!w)throw s(null),"undefined"!==typeof window&&window.open(d.url,"_blank"),N(new u.OZ);S.current=!0,x(!0);try{yield v.connect()}catch(n){throw s(null),n}finally{x(!1),S.current=!1}}}))),[S,b,E,m,d,v,N,w,x,s]),_=(0,o.useCallback)((()=>h(void 0,void 0,void 0,(function*(){if(!k.current&&!E){if(!v)return s(null);k.current=!0,C(!0);try{yield v.disconnect()}catch(n){throw s(null),n}finally{C(!1),k.current=!1}}}))),[k,E,v,C,s]),R=(0,o.useCallback)(((n,e,t)=>h(void 0,void 0,void 0,(function*(){if(!v)throw N(new a);if(!m)throw N(new u.oS);return yield v.sendTransaction(n,e,t)}))),[v,N,m]),I=(0,o.useMemo)((()=>v&&"signTransaction"in v?n=>h(void 0,void 0,void 0,(function*(){if(!m)throw N(new u.oS);return yield v.signTransaction(n)})):void 0),[v,N,m]),A=(0,o.useMemo)((()=>v&&"signAllTransactions"in v?n=>h(void 0,void 0,void 0,(function*(){if(!m)throw N(new u.oS);return yield v.signAllTransactions(n)})):void 0),[v,N,m]),B=(0,o.useMemo)((()=>v&&"signMessage"in v?n=>h(void 0,void 0,void 0,(function*(){if(!m)throw N(new u.oS);return yield v.signMessage(n)})):void 0),[v,N,m]);return(0,o.useEffect)((()=>{if(v)return v.on("ready",P),v.on("connect",j),v.on("disconnect",K),v.on("error",N),()=>{v.off("ready",P),v.off("connect",j),v.off("disconnect",K),v.off("error",N)}}),[v,P,j,K,N]),o.createElement(l.Provider,{value:{wallets:e,autoConnect:t,wallet:d,adapter:v,publicKey:p,ready:w,connected:m,connecting:b,disconnecting:E,select:T,connect:M,disconnect:_,sendTransaction:R,signTransaction:I,signAllTransactions:A,signMessage:B}},n)}},24605:function(){},65678:function(){},11164:function(){},8505:function(){},93907:function(){}}]);